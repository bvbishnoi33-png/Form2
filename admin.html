<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<style>
body{font-family:Segoe UI;background:#0f172a;color:#fff;padding:30px;}
input,select,button{padding:8px;margin:5px;}
.card{background:#1e293b;padding:15px;border-radius:10px;margin-top:10px;}
</style>
</head>

<body>

<h1>Admin Dashboard</h1>

<input id="formName" placeholder="Form Name">
<button onclick="createForm()">Create Form</button>

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyDVP6-QjZMZhUoWFJ80WRNH3ieyhHWq3gQ",
 authDomain: "form2-9ad72.firebaseapp.com",
 projectId: "form2-9ad72"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.createForm = async ()=>{
 await addDoc(collection(db,"forms"),{
  name:formName.value,
  enabled:true,
  fields:[]
 });
 loadForms();
}

async function loadForms(){
 list.innerHTML="";
 const snap = await getDocs(collection(db,"forms"));
 snap.forEach(d=>{
  const f=d.data();
  list.innerHTML+=`
   <div class="card">
    <b>${f.name}</b><br>
    <button onclick="toggle('${d.id}',${!f.enabled})">
      ${f.enabled?'Hide':'Show'}
    </button>
   </div>`;
 });
}

window.toggle=async(id,val)=>{
 await updateDoc(doc(db,"forms",id),{enabled:val});
 loadForms();
}

loadForms();
</script>

</body>
</html>
